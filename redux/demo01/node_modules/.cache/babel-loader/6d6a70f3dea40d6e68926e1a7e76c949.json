{"ast":null,"code":"var _jsxFileName = \"D:\\\\demo\\\\demo01\\\\src\\\\TodoList.js\";\nimport React, { Component } from 'react'; // 引入css样式\n\nimport 'antd/dist/antd.css';\nimport store from './store';\nimport { changeInputAction, addItemAction, deleteItemAction, getListAction, getTodoList, getMyListAction } from './store/actionCreatores';\nimport TodoListUI from './TodoListUI';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TodoList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.storeChange = () => {\n      this.setState(store.getState());\n    };\n\n    this.changeInputValue = e => {\n      changeInputAction(e.target.value);\n    };\n\n    this.clickBtn = () => {\n      // 当点击添加按钮的时候，说明这个值就在inputValue里存着呢！\n      const action = addItemAction();\n      store.dispatch(action);\n    };\n\n    this.deleteItem = index => {\n      const action = deleteItemAction(index);\n      store.dispatch(action);\n    };\n\n    this.state = store.getState(); // 订阅Redux的状态\n\n    store.subscribe(this.storeChange);\n  }\n\n  componentDidMount() {\n    // 如果不使用中间件\n    // axios.get('https://www.fastmock.site/mock/310b5d0181ece0e7cd2383574b9567ad/anita/getList').then((res) => {\n    //   const data = res.data;\n    //   const action = getListAction(data);\n    //   store.dispatch(action);\n    // });\n    // 如果使用Redux-chunk中间件\n    // const action = getTodoList();\n    // store.dispatch(action);\n    // 如果使用Redux-saga中间件\n    const action = getMyListAction();\n    store.dispatch(action);\n    console.log(action);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(TodoListUI, {\n      inputValue: this.state.inputValue,\n      list: this.state.list,\n      changeInputValue: this.changeInputValue,\n      clickBtn: this.clickBtn,\n      deleteItem: this.deleteItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default TodoList;","map":{"version":3,"sources":["D:/demo/demo01/src/TodoList.js"],"names":["React","Component","store","changeInputAction","addItemAction","deleteItemAction","getListAction","getTodoList","getMyListAction","TodoListUI","axios","TodoList","constructor","props","storeChange","setState","getState","changeInputValue","e","target","value","clickBtn","action","dispatch","deleteItem","index","state","subscribe","componentDidMount","console","log","render","inputValue","list"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CACA;;AACA,OAAO,oBAAP;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAAQC,iBAAR,EAA4BC,aAA5B,EAA2CC,gBAA3C,EAA6DC,aAA7D,EAA4EC,WAA5E,EAAyFC,eAAzF,QAA+G,yBAA/G;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,QAAN,SAAuBV,SAAvB,CAAiC;AAC/BW,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;;AADgB,SAOlBC,WAPkB,GAOJ,MAAM;AAClB,WAAKC,QAAL,CAAcb,KAAK,CAACc,QAAN,EAAd;AACD,KATiB;;AAAA,SA6BlBC,gBA7BkB,GA6BEC,CAAD,IAAO;AACxBf,MAAAA,iBAAiB,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB;AACD,KA/BiB;;AAAA,SAiClBC,QAjCkB,GAiCP,MAAM;AACf;AACA,YAAMC,MAAM,GAAGlB,aAAa,EAA5B;AACAF,MAAAA,KAAK,CAACqB,QAAN,CAAeD,MAAf;AACD,KArCiB;;AAAA,SAuClBE,UAvCkB,GAuCJC,KAAD,IAAW;AACtB,YAAMH,MAAM,GAAGjB,gBAAgB,CAACoB,KAAD,CAA/B;AACAvB,MAAAA,KAAK,CAACqB,QAAN,CAAeD,MAAf;AACD,KA1CiB;;AAEhB,SAAKI,KAAL,GAAaxB,KAAK,CAACc,QAAN,EAAb,CAFgB,CAGhB;;AACAd,IAAAA,KAAK,CAACyB,SAAN,CAAgB,KAAKb,WAArB;AACD;;AAMDc,EAAAA,iBAAiB,GAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA,UAAMN,MAAM,GAAGd,eAAe,EAA9B;AACAN,IAAAA,KAAK,CAACqB,QAAN,CAAeD,MAAf;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAYR,MAAZ;AACD;;AAiBDS,EAAAA,MAAM,GAAG;AACP,wBACE,QAAC,UAAD;AACE,MAAA,UAAU,EAAE,KAAKL,KAAL,CAAWM,UADzB;AAEE,MAAA,IAAI,EAAE,KAAKN,KAAL,CAAWO,IAFnB;AAGE,MAAA,gBAAgB,EAAE,KAAKhB,gBAHzB;AAIE,MAAA,QAAQ,EAAE,KAAKI,QAJjB;AAKE,MAAA,UAAU,EAAE,KAAKG;AALnB;AAAA;AAAA;AAAA;AAAA,YADF;AASD;;AAvD8B;;AA0DjC,eAAeb,QAAf","sourcesContent":["import React, {Component} from 'react';\n// 引入css样式\nimport 'antd/dist/antd.css';\nimport store from './store';\nimport {changeInputAction , addItemAction ,deleteItemAction, getListAction, getTodoList, getMyListAction} from './store/actionCreatores'\nimport TodoListUI from './TodoListUI';\nimport axios from 'axios';\n\nclass TodoList extends Component {\n  constructor(props){\n    super(props);\n    this.state = store.getState();\n    // 订阅Redux的状态\n    store.subscribe(this.storeChange);\n  }\n  \n  storeChange = () => {\n    this.setState(store.getState());\n  }\n\n  componentDidMount(){\n    // 如果不使用中间件\n    // axios.get('https://www.fastmock.site/mock/310b5d0181ece0e7cd2383574b9567ad/anita/getList').then((res) => {\n    //   const data = res.data;\n    //   const action = getListAction(data);\n    //   store.dispatch(action);\n    // });\n\n    // 如果使用Redux-chunk中间件\n    // const action = getTodoList();\n    // store.dispatch(action);\n\n    // 如果使用Redux-saga中间件\n    const action = getMyListAction();\n    store.dispatch(action);\n    console.log(action);\n  }\n\n  changeInputValue = (e) => {\n    changeInputAction(e.target.value);\n  }\n\n  clickBtn = () => {\n    // 当点击添加按钮的时候，说明这个值就在inputValue里存着呢！\n    const action = addItemAction()\n    store.dispatch(action)\n  }\n\n  deleteItem = (index) => {\n    const action = deleteItemAction(index)\n    store.dispatch(action)\n  };\n\n  render() { \n    return ( \n      <TodoListUI \n        inputValue={this.state.inputValue}\n        list={this.state.list}\n        changeInputValue={this.changeInputValue}\n        clickBtn={this.clickBtn}\n        deleteItem={this.deleteItem}\n      />\n    );\n  }\n}\n\nexport default TodoList;\n"]},"metadata":{},"sourceType":"module"}